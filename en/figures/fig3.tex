\begin{tikzpicture}

\pgfmathsetmacro{\OTX}{1.0}
\pgfmathsetmacro{\INX}{0.7}
\pgfmathsetmacro{\OTY}{0.7}

\node [] (start) at (0, 0) {Blockchain};

\node [align=center] (block1) at ($(start.south) + (0, -\OTY)$)
{$B_{1}$};
\node [fit=(block1), draw] (box1) {};

\node [align=left, minimum height=4ex] (block2) at ($(box1.east) + (\OTX,0)$) {$B_{2}$};
\node [draw] (transaction21) at ($(block2.east) + (\INX/2, 0)$) {$p_1$};
\node [fit=(block2)(transaction21), draw] (box2) {};

\node [] (block3) at ($(box2.east) + (\INX, 0)$) {..};
\node [fit=(block3)] (box3) {};

\node [align=left, minimum height=4ex] (block4) at ($(box3.east) + (\INX, 0)$) {$B_i$};
\node [draw] (transactioni1) at ($(block4.east) + (\INX/2, 0)$) {$p_2$};
\node [draw] (transactioni2) at ($(transactioni1.east) + (\INX/2, 0)$) {$p_3$};
\node [fit=(block4)(transactioni1)(transactioni2), draw] (box4) {};

\node [align=center] (block5) at ($(box4.east) + (\OTX, 0)$) {$B_{i+1}$};
\node [fit=(block5), draw] (box5) {};

\node [] (block6) at ($(box5.east) + (0.8, 0)$) {..};
\node [fit=(block6)] (box6) {};

\node [align=left] (footnote) at ($(box3.south) + (0, -\OTY)$) {$p_m$: protocol with version $m$.};

\draw [->] (box1.east) -- (box2.west);
\draw [->] (box2.east) -- (box3.west);
\draw [->] (box3.east) -- (box4.west);
\draw [->] (box4.east) -- (box5.west);
\draw [->] (box5.east) -- (box6.west);

\node[fit=(start)(box1)(box2)(box3)(box4)(box5)(box6)(footnote), dash pattern=on5pt off3pt, draw] (halftop) {};

\end{tikzpicture}

